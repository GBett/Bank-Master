<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1006px" preserveAspectRatio="none" style="width:1806px;height:1006px;" version="1.1" viewBox="0 0 1806 1006" width="1806px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dz2xjtz4exdh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="36" lengthAdjust="spacingAndGlyphs" textLength="264" x="778" y="34.8047">All connections</text><!--entity kc--><rect fill="#FFA500" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="216" x="805" y="527.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="795" y="537.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="795" y="580.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="176" x="825" y="574.4688">Kafka cluster</text><!--entity zc--><rect fill="#FFA500" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="286" x="1493" y="499.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1483" y="509.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1483" y="552.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="246" x="1513" y="546.4688">Zookeeper cluster</text><!--entity sr--><rect fill="#FFA500" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="258" x="784" y="299.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="774" y="309.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="774" y="352.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="218" x="804" y="346.4688">Schema registry</text><!--entity sy--><rect fill="#FFFF00" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="220" x="65" y="563.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="55" y="573.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="55" y="616.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="180" x="85" y="610.4688">Synchronizer</text><!--entity hb--><rect fill="#FFFF00" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="174" x="88" y="335.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="78" y="345.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="78" y="388.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="134" x="108" y="382.4688">Heartbeat</text><!--entity cg--><rect fill="#FFFF00" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="326" x="12" y="151.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="2" y="161.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="2" y="204.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="286" x="32" y="198.4688">Command generator</text><!--entity ch--><rect fill="#FFFF00" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="296" x="1488" y="311.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1478" y="321.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1478" y="364.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="256" x="1508" y="358.4688">Command handler</text><!--entity ge--><rect fill="#FFFF00" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="292" x="1490" y="865.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1480" y="875.3984"/><rect fill="#FFFF00" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="1480" y="918.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="252" x="1510" y="912.4688">GraphQL endpoint</text><!--entity fs--><rect fill="#90EE90" filter="url(#f1dz2xjtz4exdh)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="258" x="46" y="865.3984"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="36" y="875.3984"/><rect fill="#90EE90" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="36" y="918.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="218" x="66" y="912.4688">Frontend server</text><!--entity cl--><ellipse cx="913" cy="838.3984" fill="#FEFECE" filter="url(#f1dz2xjtz4exdh)" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M913,854.3984 L913,908.3984 M887,870.3984 L939,870.3984 M913,908.3984 L887,938.3984 M913,908.3984 L939,938.3984 " fill="none" filter="url(#f1dz2xjtz4exdh)" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="74" x="876" y="979.4688">client</text><!--entity pgb--><path d="M1545,78.3984 C1545,58.3984 1636,58.3984 1636,58.3984 C1636,58.3984 1727,58.3984 1727,78.3984 L1727,129.375 C1727,149.375 1636,149.375 1636,149.375 C1636,149.375 1545,149.375 1545,129.375 L1545,78.3984 " fill="#ADD8E6" filter="url(#f1dz2xjtz4exdh)" style="stroke: #000000; stroke-width: 3.0;"/><path d="M1545,78.3984 C1545,98.3984 1636,98.3984 1636,98.3984 C1636,98.3984 1727,98.3984 1727,78.3984 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="142" x="1565" y="133.4688">balancedb</text><!--entity pgt--><path d="M1521,662.3984 C1521,642.3984 1636,642.3984 1636,642.3984 C1636,642.3984 1751,642.3984 1751,662.3984 L1751,713.375 C1751,733.375 1636,733.375 1636,733.375 C1636,733.375 1521,733.375 1521,713.375 L1521,662.3984 " fill="#ADD8E6" filter="url(#f1dz2xjtz4exdh)" style="stroke: #000000; stroke-width: 3.0;"/><path d="M1521,662.3984 C1521,682.3984 1636,682.3984 1636,682.3984 C1636,682.3984 1751,682.3984 1751,662.3984 " fill="none" style="stroke: #000000; stroke-width: 3.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="190" x="1541" y="717.4688">transactiondb</text><!--link sy to sr--><path d="M285.4924,563.4514 C396.7894,526.8 573.1566,467.5102 724,411.3984 C754.0782,400.2096 786.5798,387.404 816.0078,375.5334 " fill="none" id="sy-sr" style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="825.8618,371.5474,806.1754,370.8812,816.5915,375.2974,812.1753,385.7136,825.8618,371.5474" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="156" x="483" y="404.5352">set schemas</text><!--link sy to kc--><path d="M250.452,635.5968 C292.7634,653.8896 347.123,674.134 398,683.3984 C540.5448,709.3552 584.8684,723.836 724,683.3984 C776.0482,668.271 827.475,634.0156 863.5126,605.9608 " fill="none" id="sy-kc" style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="871.4188,599.7128,852.3362,604.5968,863.573,605.9132,862.2567,617.15,871.4188,599.7128" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="176" x="473" y="676.5352">creates topics</text><!--link fs to cl--><path d="M304.3942,901.3984 C471.3906,901.3984 753.7374,901.3984 865.4524,901.3984 " fill="none" id="fs-cl" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="875.7212,901.3984,857.7212,893.3984,865.7212,901.3984,857.7212,909.3984,875.7212,901.3984" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="292" x="415" y="894.5352">provides frontend code</text><!--link cl to ge--><path d="M960.7164,901.3984 C1064.4004,901.3984 1314.1738,901.3984 1479.1484,901.3984 " fill="none" id="cl-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1489.89,901.3984,1471.89,893.3984,1479.89,901.3984,1471.89,909.3984,1489.89,901.3984" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="950.3492,901.3984,968.3492,909.3984,960.3492,901.3984,968.3492,893.3984,950.3492,901.3984" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="276" x="1127" y="864.5352">exchange information</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="186" x="1172" y="895.1563">using GraphQL</text><!--link kc to zc--><path d="M1032.452,567.765 C1055.5254,568.446 1079.5124,569.0416 1102,569.3984 C1246.8706,571.6974 1283.5864,581.1236 1428,569.3984 C1445.6938,567.9618 1464.1516,565.8486 1482.4484,563.3668 " fill="none" id="kc-zc" style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1492.5908,561.952,1473.6581,556.5158,1482.6867,563.3337,1475.8688,572.3623,1492.5908,561.952" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1021.9236,567.4468,1039.6733,575.9878,1031.919,567.7494,1040.1574,559.9951,1021.9236,567.4468" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="272" x="1129" y="562.5352">get and set meta data</text><!--link cg to kc--><path d="M348.5282,225.0708 C365.2392,228.602 381.9388,232.0936 398,235.3984 C542.6246,265.1572 604.2394,213.0314 724,299.3984 C767.908,331.0632 753.4384,360.7156 784,405.3984 C811.6448,445.8168 847.0632,488.6706 873.791,519.5358 " fill="none" id="cg-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="880.389,527.1158,874.6055,508.2863,873.8236,519.573,862.5369,518.791,880.389,527.1158" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="338.1272,222.8682,354.0793,234.4237,347.9103,224.9399,357.394,218.7708,338.1272,222.8682" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="322" x="400" y="228.5352">exchange data using avro</text><!--link kc to ch--><path d="M1031.3122,540.3502 C1171.561,512.7524 1391.0302,468.5932 1428,455.3984 C1476.8086,437.9784 1528.537,411.1586 1568.198,388.6042 " fill="none" id="kc-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1576.9832,383.566,1557.3889,385.5814,1568.3086,388.5411,1565.3489,399.4608,1576.9832,383.566" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1021.3548,542.308,1040.56,546.6852,1031.167,540.3789,1037.4733,530.9858,1021.3548,542.308" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="322" x="1104" y="448.5352">exchange data using avro</text><!--link kc to ge--><path d="M999.5376,603.8544 C1138.4204,668.7816 1409.5644,795.5406 1548.8406,860.6518 " fill="none" id="kc-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1558.637,865.2314,1545.7191,850.361,1549.5781,860.9963,1538.9429,864.8553,1558.637,865.2314" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="990.3736,599.5704,1003.2917,614.4407,999.4325,603.8055,1010.0677,599.9464,990.3736,599.5704" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="322" x="1104" y="646.5352">exchange data using avro</text><!--link hb to kc--><path d="M212.7134,407.5678 C270.2746,462.354 375.7364,560.9408 398,569.3984 C526.9536,618.3854 687.5138,606.1512 794.755,588.6932 " fill="none" id="hb-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="804.9638,586.9892,785.8922,582.0622,795.1003,588.6358,788.5267,597.8438,804.9638,586.9892" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="246" x="438" y="562.5352">produces Heartbeat</text><!--link pgb to ch--><path d="M1636,158.7218 C1636,201.77 1636,260.8048 1636,301.3114 " fill="none" id="pgb-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1636,311.3954,1644,293.3954,1636,301.3954,1628,293.3954,1636,311.3954" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1636,148.6944,1628,166.6944,1636,158.6944,1644,166.6944,1636,148.6944" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="208" x="1558" y="210.0352">keep track witch</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="366" x="1400" y="240.6563">messages have been handled</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="226" x="1540" y="271.2773">keep the balances</text><!--link pgt to ge--><path d="M1636,743.2218 C1636,777.7504 1636,821.5792 1636,854.3402 " fill="none" id="pgt-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1636,865.0962,1644,847.0962,1636,855.0962,1628,847.0962,1636,865.0962" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1636,732.8272,1628,750.8272,1636,742.8272,1644,750.8272,1636,732.8272" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="348" x="1424" y="794.0352">stores/queries transactions</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="182" x="1590" y="824.6563">stores profiles</text><!--link sr to ch--><path d="M1042.166,307.4576 C1062.1136,304.1116 1082.546,301.2346 1102,299.3984 C1246.2478,285.783 1284.0418,283.0032 1428,299.3984 C1448.094,301.6868 1469.0726,305.1808 1489.6458,309.2622 " fill="none" id="sr-ch" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1499.7072,311.3104,1483.6648,299.8805,1489.9082,309.3156,1480.4731,315.559,1499.7072,311.3104" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="158" x="1186" y="282.5352">get schemas</text><!--link sr to ge--><path d="M1042.2052,347.086 C1185.6744,361.2804 1400.7878,386.6606 1428,413.3984 C1541.8258,525.2402 1411.2918,627.4672 1488,767.3984 C1507.951,803.793 1541.618,835.458 1571.805,858.8552 " fill="none" id="sr-ge" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1580.2128,865.2322,1570.7059,847.9806,1572.2454,859.1891,1561.0369,860.7285,1580.2128,865.2322" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="158" x="1186" y="348.5352">get schemas</text><!--link sr to kc--><path d="M913,372.1116 C913,411.4696 913,474.0552 913,516.845 " fill="none" id="sr-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="913,527.2712,921,509.2712,913,517.2712,905,509.2712,913,527.2712" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="182" x="799" y="459.5352">store schemas</text><!--link hb to sr--><path d="M272.602,366.6374 C403.8454,360.2352 637.5396,348.8354 783.4074,341.72 " fill="none" id="hb-sr" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="262.5564,367.1274,280.9249,374.2406,272.5445,366.64,280.1451,358.2596,262.5564,367.1274" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="158" x="482" y="338.5352">get schemas</text><!--link cg to sr--><path d="M348.8174,157.7406 C459.3078,145.8636 603.6796,143.4544 724,185.3984 C788.4764,207.875 847.4688,262.5406 881.8212,299.2924 " fill="none" id="cg-sr" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="338.2326,158.9182,357.007,164.8783,348.1712,157.8122,355.2374,148.9765,338.2326,158.9182" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="158" x="482" y="144.5352">get schemas</text><!--
@startuml

left to right direction
title All connections

[Kafka cluster] as kc #Orange
[Zookeeper cluster] as zc #Orange
[Schema registry] as sr #Orange
[Synchronizer] as sy #Yellow
[Heartbeat] as hb #Yellow
[Command generator] as cg #Yellow
[Command handler] as ch #Yellow
[GraphQL endpoint] as ge #Yellow
[Frontend server] as fs #LightGreen
actor client as cl
database balancedb as pgb #LightBlue
database transactiondb as pgt #LightBlue

sy ..> sr : set schemas
sy ..> kc : creates topics
fs - -> cl : provides frontend code
cl <- -> ge : exchange information\nusing GraphQL
kc <..> zc : get and set meta data
cg <- -> kc : exchange data using avro
kc <- -> ch : exchange data using avro
kc <- -> ge : exchange data using avro
hb - -> kc : produces Heartbeat
pgb <-> ch : keep track witch\rmessages have been handled\nkeep the balances
pgt <-> ge : stores/queries transactions\rstores profiles
sr - -> ch : get schemas
sr - -> ge : get schemas
sr -> kc : store schemas
hb <- - sr : get schemas
cg <- - sr : get schemas

@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b49
Operating System: Mac OS X
OS Version: 10.14.5
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>