<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="682px" preserveAspectRatio="none" style="width:1158px;height:682px;" version="1.1" viewBox="0 0 1158 682" width="1158px" zoomAndPan="magnify"><defs><filter height="300%" id="f5k89qqg9jiv6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="36" lengthAdjust="spacingAndGlyphs" textLength="358" x="407" y="34.8047">Command generator</text><!--cluster nl.openweb.command-generator.core.clj--><polygon fill="#FFFF00" filter="url(#f5k89qqg9jiv6)" points="28,74.3984,610,74.3984,624,119.375,754,119.375,754,658.3984,28,658.3984,28,74.3984" style="stroke: #000000; stroke-width: 3.0;"/><line style="stroke: #000000; stroke-width: 3.0;" x1="28" x2="624" y1="119.375" y2="119.375"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="570" x="36" y="105.4688">nl.openweb.command-generator.core.clj</text><!--entity a--><rect fill="#FEFECE" filter="url(#f5k89qqg9jiv6)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="162" x="45" y="128.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="35" y="138.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="35" y="181.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="122" x="65" y="175.4688">accounts</text><!--entity c--><rect fill="#FEFECE" filter="url(#f5k89qqg9jiv6)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="176" x="510" y="128.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="500" y="138.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="500" y="181.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="136" x="530" y="175.4688">consumer</text><!--entity p--><rect fill="#FEFECE" filter="url(#f5k89qqg9jiv6)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="166" x="219" y="570.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="209" y="580.3984"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="209" y="623.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="126" x="239" y="617.4688">producer</text><!--entity kc--><rect fill="#FFA500" filter="url(#f5k89qqg9jiv6)" height="72.9766" style="stroke: #A80036; stroke-width: 3.0;" width="216" x="770" y="570.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="760" y="580.3984"/><rect fill="#FFA500" height="10" style="stroke: #A80036; stroke-width: 3.0;" width="20" x="760" y="623.375"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="176" x="790" y="617.4688">Kafka cluster</text><!--link c to a--><path d="M509.9124,164.3984 C426.4702,164.3984 301.697,164.3984 217.2346,164.3984 " fill="none" id="c-a" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="207.1396,164.3984,225.1396,172.3984,217.1396,164.3984,225.1396,156.3984,207.1396,164.3984" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="230" x="243.5" y="151.5352">update ibans used</text><!--link a to p--><path d="M125.1214,201.155 C125.1434,257.0804 130.5886,365.7602 168,448.3984 C187.8282,492.1974 223.4844,533.3346 253.0328,562.6484 " fill="none" id="a-p" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="260.4002,569.8406,253.1086,551.5422,253.2446,562.8551,241.9318,562.9911,260.4002,569.8406" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="210" x="170" y="380.5352">used to generate</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="112" x="170" y="411.1563">transfers</text><!--link c to p--><path d="M565.2638,200.7486 C537.8632,231.954 498.468,278.6858 468,322.3984 C438.075,365.332 365.9188,492.3482 327.3354,561.0526 " fill="none" id="c-p" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="322.3484,569.9412,338.1329,558.1578,327.2415,561.2201,324.1791,550.3288,322.3484,569.9412" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="84" x="470" y="380.5352">trigger</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="266" x="470" y="411.1563">command generation</text><!--link p to kc--><path d="M385.1402,606.3984 C483.3798,606.3984 647.5556,606.3984 759.188,606.3984 " fill="none" id="p-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="769.8232,606.3984,751.8232,598.3984,759.8232,606.3984,751.8232,614.3984,769.8232,606.3984" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="116" x="421.5" y="501.5352">produces</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="312" x="421.5" y="532.1563">ConfirmAccountCreation</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="46" x="421.5" y="562.7773">and</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="288" x="421.5" y="593.3984">ConfirmMoneyTransfer</text><!--link c to kc--><path d="M649.671,207.7078 C682.7106,237.4122 724.7048,279.1474 754,322.3984 C809.2132,403.9142 848.853,514.0124 866.9704,570.1742 " fill="none" id="c-kc" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="641.4774,200.4214,649.612,218.361,648.9501,207.0667,660.2444,206.4048,641.4774,200.4214" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="128" x="822" y="349.5352">consumes</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="122" x="822" y="380.1563">Heartbeat</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="46" x="822" y="410.7773">and</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="312" x="822" y="441.3984">ConfirmAccountCreation</text><!--
@startuml

title Command generator

package "nl.openweb.command-generator.core.clj" #Yellow {
    component accounts as a
    component consumer as c
    component producer as p
}
[Kafka cluster] as kc #Orange

c -> a  :update ibans used
a - -> p  :used to generate\ltransfers
c -> p :trigger\lcommand generation
p -> kc :produces\lConfirmAccountCreation\nand\nConfirmMoneyTransfer
c <- - kc :consumes\lHeartbeat\nand\nConfirmAccountCreation

@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b49
Operating System: Mac OS X
OS Version: 10.14.5
Default Encoding: UTF-8
Language: en
Country: NL
--></g></svg>